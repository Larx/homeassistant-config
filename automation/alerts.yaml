
- id: bgs_worldwide_earthquakes_alert
  alias: BGS Worlwide Earthquakes Alert
  trigger:
    - platform: event
      event_type: bgs_worldwide_earthquakes

  action:
    - service: script.announce
      data_template:
        light: true
        color: 'brown'
        message: "BGS reporting {% if trigger.event %}{{ trigger.event.data.title }}{% endif %}"


- id: geoscience_australia_alert
  alias: Geoscience Australia Alert
  trigger:
    - platform: event
      event_type: geoscience_australia

  action:
    - service: script.announce
      data_template:
        color: 'brown'
        light: true
        ringtone: 7
        message: "Geoscience Australia reporting {% if trigger.event %}{{ trigger.event.data.title }}{% endif %}"

- id: nsw_rfs_alert_trigger
  alias: NSW RFS Alert Announcement
  trigger:

    - platform: event
      event_type: nsw_rfs_major_incidents

  action:
    - service: script.announce
      data_template:
        color: 'orange'
        light: true
        ringtone: 7
        message: "New South Wales Rural Fire Service issued a {{ trigger.event.data.category }} for {{ trigger.event.data.title }} located {{ trigger.event.data.distance }} kilometers away"


- id: usgs_alert_announcement
  alias: USGS Alert Announcement
  trigger:
    - platform: event
      event_type: usgs_all_earthquakes

  condition:
    - condition: template
      value_template: '{{ trigger.event.data.magnitude | float > 2.0 }}'

  action:
    - service: script.announce
      data_template:
        color: "orange"
        light: true
        ringtone: 7
        siren: "{{ trigger.event.data.magnitude|float > 5.0 }}"
        message: "USGS Reporting new Earthquake of magnitude {{ trigger.event.data.magnitude }} at {{ trigger.event.data.title }}"


